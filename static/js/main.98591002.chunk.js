(this["webpackJsonpcity-mobil-test-case"]=this["webpackJsonpcity-mobil-test-case"]||[]).push([[0],{23:function(e,t,r){},24:function(e,t,r){},25:function(e,t,r){},26:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),a=r(16),s=r.n(a),i=(r(23),r(24),r(25),r(26),r(18)),l=r(3),o=r(17),f=r.n(o).a.create({baseURL:"https://city-mobil.ru/api"}),d=r(6),u=r(0),j="\u041c\u0430\u0440\u043a\u0430 \u0438 \u043c\u043e\u0434\u0435\u043b\u044c",b=function(e,t,r,n,c){return e.map((function(e){if(function(e,t){var r=!1;if(null!==t)for(var n in r=(e.mark+" "+e.model).toLowerCase().includes(t.toLowerCase()),e.tariffs)r||(r=String(e.tariffs[n].year).toLowerCase().includes(t.toLowerCase()));return r}(e,r)||null==r){var a=[];return t.forEach((function(t){if(e.tariffs.hasOwnProperty(t)){var r="";r=n===e.mark+" "+e.model+" "+e.tariffs[t].year?"Selected-td":"Clickable",a.push(Object(u.jsx)("td",{className:r,onClick:function(){c(e.mark+" "+e.model+" "+e.tariffs[t].year)},children:e.tariffs[t].year}))}else a.push(Object(u.jsx)("td",{children:"-"}))})),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"Car-name",children:e.mark+" "+e.model}),a]})}}))},h=function(e){var t,r,n=e.filterWord,c=e.carsInfo,a=e.sorting,s=e.selectedCar,i=e.selectCar,l=e.setSorting,o=[],f=[];return null!==c&&(o=Object(d.a)(c.tariffs_list),f=Object(d.a)(c.cars),null!==a.key&&f.sort((t=a.key,r=a.fromLeast,function(e,n){return t!==j?void 0===e.tariffs[t]&&void 0===n.tariffs[t]?0:void 0!==e.tariffs[t]&&void 0===n.tariffs[t]?-1:void 0===e.tariffs[t]&&void 0!==n.tariffs[t]?1:r?e.tariffs[t].year-n.tariffs[t].year:n.tariffs[t].year-e.tariffs[t].year:e.mark+" "+e.model<n.mark+" "+n.model?r?-1:1:e.mark+" "+e.model>n.mark+" "+n.model?r?1:-1:0})),f=b(f,c.tariffs_list,n,s,i),o=function(e,t,r){var n=Object(d.a)(e);return n.unshift(j),n.map((function(e){return t.key!==e?Object(u.jsx)("th",{onClick:function(){return r(e)},children:e}):Object(u.jsx)("th",{onClick:function(){return r(e)},children:e+" "+(t.fromLeast?"\u2193":"\u2191")})}))}(o,a,l),f.reduce((function(e,t){return void 0!==t&&(e=!1),e}),!0)&&(o=[])),Object(u.jsxs)("div",{className:"Main-table",children:[Object(u.jsx)("div",{className:"Table-head",children:Object(u.jsx)("table",{children:Object(u.jsx)("tr",{children:0!==o.length?o:Object(u.jsx)("div",{className:"No-cars-label",children:"\u041c\u0430\u0448\u0438\u043d \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})})}),Object(u.jsx)("div",{className:"Scrolling-part",children:Object(u.jsx)("table",{children:f})})]})},m=function(e){var t=c.a.createRef(),r=Object(n.useState)({carsInfo:null,selectedCar:null,filterWord:null,sorting:{key:null,fromLeast:null}}),a=Object(i.a)(r,2),s=a[0],o=a[1];return Object(n.useEffect)((function(){f.get("/cars").then((function(e){return e.data})).then((function(e){return o(Object(l.a)(Object(l.a)({},s),{},{carsInfo:e}))}))}),[]),Object(u.jsxs)("div",{className:"Content",children:[Object(u.jsxs)("div",{className:"Input-form",children:[Object(u.jsx)("input",{placeholder:"\ud83d\udd0d \u041f\u043e\u0438\u0441\u043a",ref:t}),Object(u.jsx)("button",{onClick:function(){o(Object(l.a)(Object(l.a)({},s),{},{filterWord:t.current.value}))},children:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(u.jsx)(h,{filterWord:s.filterWord,carsInfo:s.carsInfo,sorting:s.sorting,selectedCar:s.selectedCar,setSorting:function(e){var t=new Map;t[!0]=!1,t[!1]=null,t.null=!0,o(Object(l.a)(Object(l.a)({},s),{},{sorting:{key:null!==t[s.sorting.fromLeast]?e:e===s.sorting.key?null:e,fromLeast:e!==s.sorting.key||t[s.sorting.fromLeast]}}))},selectCar:function(e){o(Object(l.a)(Object(l.a)({},s),{},{selectedCar:e}))}}),Object(u.jsx)("div",{className:"Selected-car",children:s.selectedCar?"\u0412\u044b\u0431\u0440\u0430\u043d \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c "+s.selectedCar+" \u0433\u043e\u0434\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430.":"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d."})]})};var O=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("div",{children:"header"})}),Object(u.jsx)("aside",{className:"App-sidebar",children:Object(u.jsx)("div",{children:"sidebar"})}),Object(u.jsx)(m,{}),Object(u.jsx)("footer",{className:"App-footer",children:Object(u.jsx)("div",{children:"footer"})})]})},v=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,47)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),v()}},[[46,1,2]]]);
//# sourceMappingURL=main.98591002.chunk.js.map